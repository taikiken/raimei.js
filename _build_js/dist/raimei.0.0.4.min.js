/*
 inazumatv.com
 @author (at)taikiken / http://inazumatv.com
 @date 2014/04/19 - 16:37

 Copyright (c) 2011-2014 inazumatv.com, inc.

 Distributed under the terms of the MIT license.
 http://www.opensource.org/licenses/mit-license.html

 This notice shall be included in all copies or substantial portions of the Software.
*/
var RAIMEI={};
(function(b){var a=b.self;a.console=a.console||{info:function(){},log:function(){},debug:function(){},warn:function(){},error:function(){}};Date.now||(Date.now=function(){return(new Date).getTime()});(function(){for(var c=0,e=["ms","moz","webkit","o"],d=0;d<e.length&&!a.requestAnimationFrame;++d)a.requestAnimationFrame=a[e[d]+"RequestAnimationFrame"],a.cancelAnimationFrame=a[e[d]+"CancelAnimationFrame"]||a[e[d]+"CancelRequestAnimationFrame"];void 0===a.requestAnimationFrame&&void 0!==a.setTimeout&&
(a.requestAnimationFrame=function(d){var e=Date.now(),b=Math.max(0,16-(e-c)),g=a.setTimeout(function(){d(e+b)},b);c=e+b;return g});void 0===a.cancelAnimationFrame&&void 0!==a.clearTimeout&&(a.cancelAnimationFrame=function(d){a.clearTimeout(d)})})();Object.create||(Object.create=function(){function c(){}return function(e){if(1!==arguments.length)throw Error("Object.create implementation only accepts one parameter.");c.prototype=e;return new c}}());Array.isArray||(Array.isArray=function(c){return"[object Array]"===
Object.prototype.toString.call(c)});Array.prototype.indexOf||(Array.prototype.indexOf=function(c,e){var d;d=e?e:0;var f;if(!this)throw new TypeError;f=this.length;if(0===f||d>=f)return-1;for(0>d&&(d=f-Math.abs(d));d<f;d++)if(this[d]===c)return d;return-1});Array.prototype.forEach||(Array.prototype.forEach=function(c,e){var d,f;d=0;for(f=this.length;d<f;++d)d in this&&c.call(e,this[d],d,this)});Function.prototype.bind||(Function.prototype.bind=function(c){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");
var e=Array.prototype.slice.call(arguments,1),d=this,f=function(){},a=function(){return d.apply(this instanceof f&&c?this:c,e.concat(Array.prototype.slice.call(arguments)))};f.prototype=this.prototype;a.prototype=new f;return a});String.prototype.trim=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")};b.AudioContext=b.AudioContext||b.webkitAudioContext||b.mozAudioContext||b.oAudioContext||b.msAudioContext})(window);
(function(b){b=b.RAIMEI;b.extend=function(a,c){c.prototype=Object.create(a.prototype);c.prototype.constructor=c};b.isNumeric=function(a){return!isNaN(parseFloat(a))&&isFinite(a)};b.maxValue=function(a){return Math.max.apply(null,a)}})(window);(function(b){b.RAIMEI.Detector=function(){function a(){throw Error("can't create instance");}a.detects=function(){return!!b.AudioContext};return a}()})(window);
(function(b){b.EventDispatcher=function(){function a(){this._listeners={}}var c=a.prototype;c.constructor=b.EventDispatcher;c.addEventListener=function(c,d){"undefined"===typeof this._listeners&&(this._listeners={});var a=this._listeners;"undefined"===typeof a[c]&&(a[c]=[]);-1===a[c].indexOf(d)&&a[c].push(d)};c.hasEventListener=function(c,d){var a=this._listeners;return"undefined"!==typeof a&&"undefined"!==typeof d[c]&&-1!==a[c].indexOf(d)?!0:!1};c.removeEventListener=function(c,d){if("undefined"!==
typeof this._listeners){var a=this._listeners[c],b;"undefined"!==typeof a&&(b=a.indexOf(d),-1!==b&&a.splice(b,1))}};c.dispatchEvent=function(c){var d=this._listeners,a,b;if("undefined"!==typeof d&&"undefined"!==typeof c.type&&(d=d[c.type],"undefined"!==typeof d))for(c.target=this,a=0,b=d.length;a<b;a++)d[a].call(this,c)};a.initialize=function(a){a.addEventListener=c.addEventListener;a.hasEventListener=c.hasEventListener;a.removeEventListener=c.removeEventListener;a.dispatchEvent=c.dispatchEvent};
return a}()})(window.RAIMEI);(function(b){b.RAIMEI.Context=function(){function a(){var a=new b.AudioContext;a.createGain||(a.createGain=a.createGainNode);a.createDelay||(a.createDelay=a.createDelayNode);a.createScriptProcessor||(a.createScriptProcessor=a.createJavaScriptNode);this._context=a}a.prototype.get=function(){return this._context};return a}()})(window);
(function(b){b=b.RAIMEI;var a=b.EventDispatcher;b.BufferLoader=function(){function c(a,c){this._context=a;this._url=c}var b=c.prototype;a.initialize(b);b.load=function(){var a=this._context,c=this._url,b=this,e;e=new XMLHttpRequest;e.open("GET",c,!0);e.responseType="arraybuffer";e.onload=function(){a.decodeAudioData(e.response,function(g){g?b.dispatchEvent({type:"load",buffer:g,context:a,currentTarget:e}):b.dispatchEvent({type:"error",error:Error("error decoding file data: "+c),currentTarget:e})},
function(a){b.dispatchEvent({type:"error",error:Error("decode error: "+c+", error: "+a),currentTarget:e})})};e.onerror=function(){b.dispatchEvent({type:"error",error:Error("file not found: "+c),currentTarget:e})};e.send(null)};return c}()})(window);
(function(b){var a=b.RAIMEI;a.PlaySoundWithBuffer=function(){function c(c,b,e){a.isNumeric(e)||(e=0);this._context=c;this._buffer=b;this._start_time=e}var b=c.prototype;b.start=function(){this.play(this._start_time)};b.play=function(a){this._createSource(this._context,this._buffer).start(a)};b._createSource=function(a,c){var b=a.createBufferSource();b.buffer=c;b.connect(a.destination);b.start=b.start||b.noteOn;return b};return c}()})(window);
